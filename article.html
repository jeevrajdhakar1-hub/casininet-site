<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>News | CASININET</title>
    <style>
        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; }
        body { 
            background: #000; 
            color: #fff; 
            font-family: -apple-system, sans-serif; 
            margin: 0; 
            padding: 0; 
            line-height: 1.6; 
            opacity: 0; 
            transition: opacity 0.3s;
        }
        
        /* Mobile Back Fix: Page visible on load */
        .page-ready { opacity: 1; }

        .nav { 
            background: #111; 
            padding: 15px; 
            position: sticky; 
            top: 0; 
            z-index: 100; 
            display: flex; 
            align-items: center; 
            border-bottom: 1px solid #222; 
        }
        .back-btn { 
            color: #ff0000; 
            text-decoration: none; 
            font-size: 24px; 
            margin-right: 15px; 
            font-weight: bold;
            display: flex;
            align-items: center;
        }
        .container { padding: 20px; }
        .title { font-size: 24px; font-weight: 800; margin: 15px 0; line-height: 1.3; }
        
        .main-img { 
            width: 100%; 
            border-radius: 20px; 
            margin-bottom: 20px; 
            border: 1px solid #333; 
            background: #1a1a1a; 
            object-fit: cover;
        }
        .content { color: #ccc; font-size: 18px; white-space: pre-wrap; margin-bottom: 20px; }
        
        .ad-slot { 
            background: #0a0a0a; 
            border: 1px dashed #333; 
            border-radius: 15px; 
            margin: 25px 0; 
            padding: 20px; 
            text-align: center; 
            min-height: 250px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            color: #444; 
            font-size: 10px; 
            font-weight: bold; 
        }
    </style>
</head>
<body>
    <div class="nav">
        <a href="index.html" class="back-btn" onclick="h()">‚Üê</a> 
        <b style="letter-spacing:1px;">CASININET</b>
    </div>

    <div class="container">
        <div id="art">
            <div style="text-align:center; padding-top:50px; color:#333;">Loading News...</div>
        </div>
        <div class="ad-slot">ADVERTISEMENT BOTTOM</div>
    </div>

    <script>
        const h = () => { if (navigator.vibrate) navigator.vibrate(15); };

        // BACK BUTTON FIX: Wapas aane par page gayab na ho
        window.addEventListener('pageshow', () => {
            document.body.classList.add('page-ready');
        });

        async function load() {
            try {
                const id = new URLSearchParams(window.location.search).get('id');
                const r = await fetch('data.json'); 
                const d = await r.json();
                const n = d.find(x => x.id == id);
                
                if(n) {
                    // Content ko do hisso mein baantna Ads ke liye
                    let splitPoint = Math.floor(n.desc.length / 2);
                    let lastSpace = n.desc.lastIndexOf(' ', splitPoint);
                    let firstHalf = n.desc.substring(0, lastSpace);
                    let secondHalf = n.desc.substring(lastSpace);

                    document.getElementById('art').innerHTML = `
                        <h1 class="title">${n.headline}</h1>
                        <img src="${n.img}" class="main-img">
                        <div class="content">${firstHalf}</div>
                        <div class="ad-slot">ADVERTISEMENT MIDDLE</div>
                        <div class="content">${secondHalf}</div>
                    `;
                } else {
                    document.getElementById('art').innerHTML = "<h1>News not found!</h1>";
                }
            } catch (e) {
                document.getElementById('art').innerHTML = "<h1>Error loading data</h1>";
            }
        }

        // Page load hote hi opacity set karein
        document.addEventListener('DOMContentLoaded', () => {
            document.body.classList.add('page-ready');
            load();
        });
    </script>
</body>
</html>
