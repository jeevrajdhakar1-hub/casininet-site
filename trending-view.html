<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>CASINInet | Trending stories</title>

    <style>
        body { margin: 0; padding: 0; font-family: sans-serif; background: #f4f4f4; color: #1a1a1a; }
        .close-btn { position: fixed; top: 15px; right: 15px; z-index: 100; color: white; text-decoration: none; background: rgba(0,0,0,0.5); width: 35px; height: 35px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .hero-section { width: 100%; height: 380px; overflow: hidden; position: relative; background: #000; }
        .hero-img { width: 100%; height: 100%; object-fit: cover; }
        .content-container { padding: 25px; margin-top: -40px; background: white; border-radius: 35px 35px 0 0; position: relative; min-height: 500px; box-shadow: 0 -5px 20px rgba(0,0,0,0.1); }
        .art-tag { color: #d32f2f; font-size: 13px; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; }
        .art-headline { font-size: 30px; font-weight: 800; margin: 12px 0; line-height: 1.2; }
        .article-body p { margin-bottom: 18px; font-size: 17px; line-height: 1.6; color: #333; }
        .share-trigger { background: #000; color: #fff; border: none; padding: 16px; width: 100%; border-radius: 12px; font-size: 18px; font-weight: bold; margin: 25px 0; cursor: pointer; }
        .micro-footer { text-align: center; color: #999; font-size: 12px; padding: 20px 0; border-top: 1px solid #eee; }
    </style>
</head>
<body>
    
    <a href="index.html" class="close-btn">âœ•</a>

    <div class="hero-section">
        <img src="https://i.postimg.cc/9MRZtwhJ/Screenshot-2026-01-09-19-56-41-48-40deb401b9ffe8e1df2f1cc5ba480b12.jpg" class="hero-img" id="parallax-img">
    </div>

    <div class="content-container">
    <span class="art-tag">Loading...</span>
    <h1 class="art-headline" id="main-headline"></h1>
    
    <div class="article-body" id="main-content">
        <p>Please wait, loading news...</p>
    </div>
    
    <div class="share-container">
        <button class="share-trigger">Share Story</button>
    </div>
</div>

<script>
    async function loadTrendingStory() {
        const params = new URLSearchParams(window.location.search);
        const newsId = params.get('id');
        if(!newsId) return;

        try {
            // v parameter cache refresh karne ke liye hai
            const r = await fetch('data.json?v=' + new Date().getTime());
            const d = await r.json();
            
            // Yahan check karein ki data.json mein 'id' string hai ya number
            const n = d.find(x => x.id == newsId);

            if (n) {
                document.title = "CASINInet | " + n.headline;
                document.getElementById('parallax-img').src = n.img;
                document.querySelector('.art-tag').innerText = n.tag || "Trending";
                document.getElementById('main-headline').innerText = n.headline;
                document.getElementById('main-content').innerHTML = n.content;
                
                // Share button update
                document.querySelector('.share-trigger').onclick = () => hShare(n.headline);
            } else {
                document.getElementById('main-content').innerHTML = "News not found! ID: " + newsId;
            }
        } catch (e) {
            console.error("JSON Load Error:", e);
            document.getElementById('main-content').innerHTML = "Error loading data.";
        }
    }
    loadTrendingStory();
</script>
    

    <script>
        // Haptic feedback
        const h = () => { if (navigator.vibrate) navigator.vibrate(15); };

        // Parallax Effect
        window.onscroll = () => {
            const img = document.getElementById('parallax-img');
            let s = window.pageYOffset;
            if (s >= 0) { 
                img.style.transform = `scale(${1 + (s / 3000)}) translateY(${s/6}px)`; 
            }
        };

        // Share Function
        async function hShare(t) { 
            h(); 
            if (navigator.share) {
                try {
                    await navigator.share({ 
                        title: t, 
                        text: 'ðŸ”¥ ' + t + '\n\nRead more on CASINInet:',
                        url: window.location.href 
                    });
                } catch (err) { console.log("Share failed"); }
            } else {
                alert("Sharing not supported on this browser");
            }
        }
    </script>
</body>
</html>
